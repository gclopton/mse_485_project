# rim_langevin.in — robust x–y rim sponge (units metal)
# Expect these to be provided by the launcher with -var:
#   RIM_WIDTH_NM   (nm), RIM_GAMMA (ps^-1), RIM_TK (K)
# We keep our own seed only (different name) to avoid collisions.

variable rim_seed equal 98765

# Convert rim width to Angstrom
variable rim_wA equal ${RIM_WIDTH_NM}*10.0

# Snapshot current box bounds into variables
variable xlo equal xlo
variable xhi equal xhi
variable ylo equal ylo
variable yhi equal yhi

# Four x/y edge slabs, thickness = rim_wA
region rim_xlo block ${xlo} ${xlo}+${rim_wA} INF INF INF INF units box
region rim_xhi block ${xhi}-${rim_wA} ${xhi} INF INF INF INF units box
region rim_ylo block INF INF ${ylo} ${ylo}+${rim_wA} INF INF units box
region rim_yhi block INF INF ${yhi}-${rim_wA} ${yhi} INF INF units box

# Union into a single rim group
group rim region rim_xlo
group rim union rim rim_xhi
group rim union rim rim_ylo
group rim union rim rim_yhi

# Langevin thermostat on the rim only (interior will run NVE)
fix f_rim rim langevin ${RIM_TK} ${RIM_TK} ${RIM_GAMMA} ${rim_seed} zero yes
